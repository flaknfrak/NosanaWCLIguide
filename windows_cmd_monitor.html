<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SSH Setup Guide - Nosana Guide!!!</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
            color: #333;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .theme-toggle {
            text-align: center;
            margin-bottom: 20px;
        }

        .theme-button {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s;
        }

        .theme-button:hover {
            background: #2980b9;
        }

        .back-link {
            display: inline-block;
            background: #95a5a6;
            color: white;
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 4px;
            margin-bottom: 20px;
            transition: background 0.3s;
        }

        .back-link:hover {
            background: #7f8c8d;
        }

        .step {
            margin-bottom: 30px;
            border: 1px solid #ddd;
            border-radius: 5px;
            overflow: hidden;
        }

        .step-header {
            background: #34495e;
            color: white;
            padding: 15px 20px;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
        }

        .step-number {
            background: #3498db;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 16px;
        }

        .step-content {
            padding: 20px;
        }

        .important {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
        }

        .critical {
            background: #f8d7da;
            border: 1px solid #f5c6cb;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
            color: #721c24;
        }

        .code {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            padding: 15px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            overflow-x: auto;
        }

        .command {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 10px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            display: block;
            position: relative;
        }

        .verification {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
            color: #155724;
        }

        .info {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
            color: #0c5460;
        }

        ul {
            padding-left: 20px;
        }

        li {
            margin-bottom: 8px;
        }

        a {
            color: #3498db;
        }

        a:hover {
            color: #2980b9;
        }

        .copy-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            float: right;
            margin-top: -10px;
        }

        .copy-btn:hover {
            background: #2980b9;
        }

        .batch-code {
            background: #1a1a1a;
            color: #00ff88;
            padding: 20px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            white-space: pre-wrap;
            overflow-x: auto;
            border: 2px solid #00ff88;
            position: relative;
        }

        /* Dark mode styles */
        body.dark-mode {
            background-color: #1a1a1a;
            color: #e0e0e0;
        }

        body.dark-mode .container {
            background: #2d2d2d;
            color: #e0e0e0;
        }

        body.dark-mode h1 {
            color: #ffffff;
            border-bottom-color: #3498db;
        }

        body.dark-mode .step {
            border-color: #555;
        }

        body.dark-mode .step-header {
            background: #444;
        }

        body.dark-mode .step-content {
            background: #2d2d2d;
        }

        body.dark-mode .important {
            background: #4a4a2a;
            border-color: #666633;
            color: #ffeb99;
        }

        body.dark-mode .critical {
            background: #4a2a2a;
            border-color: #663333;
            color: #ffcccc;
        }

        body.dark-mode .code {
            background: #3a3a3a;
            border-color: #555;
            color: #e0e0e0;
        }

        body.dark-mode .command {
            background: #1a1a1a;
            color: #00ff00;
        }

        body.dark-mode .verification {
            background: #2a4a2a;
            border-color: #336633;
            color: #ccffcc;
        }

        body.dark-mode .info {
            background: #2a3a4a;
            border-color: #336666;
            color: #ccddff;
        }

        body.dark-mode a {
            color: #66b3ff;
        }

        body.dark-mode a:hover {
            color: #99ccff;
        }

        body.dark-mode .back-link {
            background: #555;
        }

        body.dark-mode .back-link:hover {
            background: #777;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .step-header {
                padding: 15px;
            }

            .step-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Windows SSH Setup Guide</h1>
        
        <div class="theme-toggle">
            <button class="theme-button" onclick="toggleTheme()">üåô Toggle Dark Mode</button>
        </div>

        <a href="index.html" class="back-link">‚Üê Back to Main Guide</a>

        <div class="critical">
            <strong>Important:</strong> All commands must be run in PowerShell as Administrator on your Windows Nosana Node machine
        </div>

        <!-- Step 1: Install OpenSSH Server -->
        <div class="step">
            <div class="step-header">
                <span class="step-number">1</span>Install OpenSSH Server
            </div>
            <div class="step-content">
                <p>Run in Administrator PowerShell on Windows:</p>
                <div class="command">
                    Add-WindowsCapability -Online -Name OpenSSH.Server~~~~0.0.1.0
                    <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
                </div>
            </div>
        </div>

        <!-- Step 2: Start SSH Service -->
        <div class="step">
            <div class="step-header">
                <span class="step-number">2</span>Start SSH Service
            </div>
            <div class="step-content">
                <p>Start the SSH daemon service:</p>
                <div class="command">
                    Start-Service sshd
                    <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
                </div>
            </div>
        </div>

        <!-- Step 3: Verify SSH Service Status -->
        <div class="step">
            <div class="step-header">
                <span class="step-number">3</span>Verify SSH Service Status
            </div>
            <div class="step-content">
                <p>Should show "Running" status:</p>
                <div class="command">
                    Get-Service sshd
                    <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
                </div>

                <div class="verification">
                    <strong>Expected output:</strong> Status should show "Running"
                </div>
            </div>
        </div>

        <!-- Step 4: Set SSH to Auto-Start -->
        <div class="step">
            <div class="step-header">
                <span class="step-number">4</span>Set SSH to Auto-Start
            </div>
            <div class="step-content">
                <p>SSH service will start automatically on boot:</p>
                <div class="command">
                    Set-Service -Name sshd -StartupType 'Automatic'
                    <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
                </div>
            </div>
        </div>

        <!-- Step 5: Check Firewall Rule -->
        <div class="step">
            <div class="step-header">
                <span class="step-number">5</span>Check Firewall Rule
            </div>
            <div class="step-content">
                <p>Verify SSH firewall rule is enabled:</p>
                <div class="command">
                    Get-NetFirewallRule -Name "OpenSSH-Server-In-TCP"
                    <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
                </div>

                <div class="info">
                    <strong>Note:</strong> Rule should be enabled. If not found, Windows will create it automatically.
                </div>
            </div>
        </div>

        <!-- Step 6: Check Current Username -->
        <div class="step">
            <div class="step-header">
                <span class="step-number">6</span>Check Current Username
            </div>
            <div class="step-content">
                <p>Copy your username. It will look like "desktop-slnkd2r\nosananode":</p>
                <div class="command">
                    whoami
                    <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
                </div>

                <div class="important">
                    <strong>Save this username</strong> - you'll need it for SSH connections and the batch file!
                </div>
            </div>
        </div>

        <!-- Step 7: Check IP Address -->
        <div class="step">
            <div class="step-header">
                <span class="step-number">7</span>Check IP Address
            </div>
            <div class="step-content">
                <p>Copy the IPv4 address from the output:</p>
                <div class="command">
                    ipconfig
                    <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
                </div>

                <div class="important">
                    <strong>Look for:</strong> "IPv4 Address" under your active network adapter. Save this IP address for SSH and the batch file!
                </div>
            </div>
        </div>

        <!-- Step 8: Set User Password -->
        <div class="step">
            <div class="step-header">
                <span class="step-number">8</span>Set User Password
            </div>
            <div class="step-content">
                <p>Replace "username" with your actual username (e.g., net user "nosananode" *). Keep the quotation marks:</p>
                <div class="command">
                    net user "username" *
                    <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
                </div>

                <div class="critical">
                    <strong>Important:</strong> Password won't be visible while typing. Remember this password for SSH access!
                </div>
            </div>
        </div>

        <!-- Step 9: Test SSH Connection -->
        <div class="step">
            <div class="step-header">
                <span class="step-number">9</span>Test SSH Connection
            </div>
            <div class="step-content">
                <p>Test from another machine. Type "yes" to accept host key, then enter password:</p>
                <div class="command">
                    ssh "NosanaNode1@110.0.0.299"
                    <button class="copy-btn" onclick="copyToClipboard(this)">Copy</button>
                </div>

                <div class="important">
                    <strong>Replace:</strong> "NosanaNode1" with your username and "110.0.0.299" with your actual IP address!
                </div>

                <div class="verification">
                    <strong>Success:</strong> If successful, you'll see a command prompt from your Windows machine!
                </div>
            </div>
        </div>

        <!-- Step 10: Create Monitoring Batch File -->
        <div class="step">
            <div class="step-header">
                <span class="step-number">10</span>Create Monitoring Batch File
            </div>
            <div class="step-content">
                <p>Create a .bat file to automatically connect and monitor your Nosana node:</p>

                <div class="verification">
                    <strong>Why Create a Batch File?</strong>
                    <ul>
                        <li>Automates the SSH connection process</li>
                        <li>Automatically runs Docker logs command to monitor your node</li>
                        <li>Easy one-click monitoring from your monitor computer</li>
                        <li>Shows real-time Nosana node activity and status</li>
                    </ul>
                </div>

                <p><strong>Steps to create the batch file:</strong></p>
                <ul>
                    <li>Open Notepad</li>
                    <li>Copy and paste the code below</li>
                    <li>Replace "(windows user)" with your actual username from step 6</li>
                    <li>Replace "10.0.0.299" with your Nosana node's IP address from step 7</li>
                    <li>Save as "nosana-monitor.bat" (change file type to "All Files")</li>
                </ul>

                <div class="batch-code">@echo off
title Nosana 5 3080 Loc 5
echo Nosana 5 3080 Loc 5 Monitor
echo Connecting to Nosana 5 3080 Loc 5...
echo Server: "(windows user)"@10.0.0.299(Vethernet) 
ssh "(windows user)@10.0.0.299(Vethernet)" "docker logs -f nosana-node"
pause<button class="copy-btn" onclick="copyToClipboard(this)">Copy</button></div>
            </div>
        </div>

        <!-- Step 11: Customize Your Script -->
        <div class="step">
            <div class="step-header">
                <span class="step-number">11</span>Customize Your Script
            </div>
            <div class="step-content">
                <p>Update the batch file with your specific details:</p>

                <div class="critical">
                    <strong>Replace these placeholders in your batch file:</strong>
                    <ul>
                        <li>"(windows user)" ‚Üí Your actual Windows username from step 6</li>
                        <li>"10.0.0.299" ‚Üí Your Nosana node's IP address from step 7</li>
                        <li>"Nosana 5 3080 Loc 5" ‚Üí Your custom node name/description</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Step 12: Save the Batch File -->
        <div class="step">
            <div class="step-header">
                <span class="step-number">12</span>Save the Batch File
            </div>
            <div class="step-content">
                <p>Save your customized script:</p>

                <div class="verification">
                    <strong>Saving instructions:</strong>
                    <ul>
                        <li>In Notepad, click File ‚Üí Save As</li>
                        <li>Change "Save as type" to "All Files (*.*)"</li>
                        <li>Name it "nosana-monitor.bat"</li>
                        <li>Save to your Desktop for easy access</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Step 13: Test Your Monitoring Script -->
        <div class="step">
            <div class="step-header">
                <span class="step-number">13</span>Test Your Monitoring Script
            </div>
            <div class="step-content">
                <p>Double-click your batch file to test the connection:</p>

                <div class="verification">
                    <strong>What you should see:</strong>
                    <ul>
                        <li>Node monitor title display</li>
                        <li>Connection details display</li>
                        <li>SSH password prompt</li>
                        <li>Live Docker logs streaming from your Nosana node</li>
                    </ul>
                </div>

                <div class="important">
                    <strong>Prerequisites:</strong> Make sure SSH is set up on your Nosana node first (completed in steps 1-9)
                </div>

                <div class="verification">
                    <strong>Expected Result:</strong> Live Docker logs showing your Nosana node activity. The output may look complex but it's displaying the real-time log file from your node.
                </div>
            </div>
        </div>
    </div>

    <script>
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const button = document.querySelector('.theme-button');
            const isDark = document.body.classList.contains('dark-mode');
            button.textContent = isDark ? '‚òÄÔ∏è Toggle Light Mode' : 'üåô Toggle Dark Mode';
            localStorage.setItem('sshSetupDarkMode', isDark);
        }

        function copyToClipboard(button) {
            const commandElement = button.parentElement;
            const command = commandElement.textContent.replace('Copy', '').trim();
            
            navigator.clipboard.writeText(command).then(() => {
                const originalText = button.textContent;
                button.textContent = 'Copied!';
                button.style.background = '#27ae60';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = '#3498db';
                }, 1000);
            }).catch(err => {
                console.error('Failed to copy: ', err);
                alert('Failed to copy to clipboard');
            });
        }

        // Load saved theme preference
        document.addEventListener('DOMContentLoaded', function() {
            const savedTheme = localStorage.getItem('sshSetupDarkMode');
            if (savedTheme === 'true') {
                document.body.classList.add('dark-mode');
                document.querySelector('.theme-button').textContent = '‚òÄÔ∏è Toggle Light Mode';
            }
        });
    </script>
</body>
</html>
